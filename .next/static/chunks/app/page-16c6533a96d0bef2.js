(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7499:(e,t,a)=>{Promise.resolve().then(a.bind(a,7822))},7822:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var s=a(5155),r=a(2115),n=a(6766),i=a(3568);function l(e){let{title:t,children:a}=e;return(0,s.jsxs)("section",{className:"card",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:t}),(0,s.jsx)("div",{className:"mt-3",children:a})]})}function o(e){let{onFile:t,accept:a="image/jpeg,image/png,image/webp",maxBytes:n=0xa00000}=e,[i,l]=(0,r.useState)(!1),o=(0,r.useRef)(null),c=(0,r.useCallback)(e=>{var a;e.preventDefault(),l(!1);let s=null===(a=e.dataTransfer.files)||void 0===a?void 0:a[0];if(s){if(s.size>n)return alert("File too large");t(s)}},[t,n]),d=(0,r.useCallback)(e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(s){if(s.size>n)return alert("File too large");t(s)}},[t,n]);return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Upload image",onKeyDown:e=>{var t;"Enter"===e.key&&(null===(t=o.current)||void 0===t||t.click())},onDragOver:e=>{e.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ".concat(i?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsx)("p",{className:"text-base font-medium text-gray-700",children:"Click to select an image"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"or drag and drop"}),(0,s.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"JPEG, PNG, WebP • Max 10MB"})]})}),(0,s.jsx)("input",{ref:o,type:"file",accept:a,className:"hidden",onChange:d})]})}var c=a(927);let d=c.Ik({title:c.Yj().optional(),format:c.Yj().default("image/jpeg"),assertions:c.YO(c.g1(c.bz())).default([]),ta_url:c.Yj().url().optional()}).strict(),p={minimal:{title:"Signed image",format:"image/jpeg",assertions:[{label:"c2pa.actions",data:{actions:[{action:"c2pa.created"}]}}],ta_url:"https://api.c2patool.io/api/v1/timestamps/ecc"},editorial:{title:"Editorial image",format:"image/jpeg",assertions:[{label:"c2pa.actions",data:{actions:[{action:"c2pa.edited"}]}},{label:"org.iptc.ext",data:{creditLine:"SSL.com Preview"}}],ta_url:"https://api.c2patool.io/api/v1/timestamps/ecc"}};var u=a(397),m=a(4904);async function x(e){let t=new m.BQ({typesAndValues:[]}),{subject:a}=e;(null==a?void 0:a.C)&&/^[A-Za-z]{2}$/.test(a.C)&&t.typesAndValues.push(new m.Tjk({type:"2.5.4.6",value:new u.Hx({value:a.C.toUpperCase()})})),(null==a?void 0:a.O)&&t.typesAndValues.push(new m.Tjk({type:"2.5.4.10",value:new u.Jn({value:a.O})})),(null==a?void 0:a.CN)&&t.typesAndValues.push(new m.Tjk({type:"2.5.4.3",value:new u.Jn({value:a.CN})}));let s=new m.irx({subject:t});return await s.subjectPublicKeyInfo.importKey(e.publicKey),await s.sign(e.privateKey,"SHA-256"),function(e,t){let a=t.replace(/(.{64})/g,"$1\n").trim();return"-----BEGIN ".concat(e,"-----\n").concat(a,"\n-----END ").concat(e,"-----")}("CERTIFICATE REQUEST",function(e){let t=new Uint8Array(e),a="";for(let e=0;e<t.length;e++)a+=String.fromCharCode(t[e]);return btoa(a)}(s.toSchema(!0).toBER(!1)))}async function g(){var e;let t=await a.e(469).then(a.bind(a,3846));return null!==(e=null==t?void 0:t.default)&&void 0!==e?e:t}function f(e){return"/c2pa/".concat(e)}async function y(e){let t=await g();if(console.log("[C2PA Verify] Module loaded, checking for createC2pa..."),"function"!=typeof t.createC2pa)throw console.error("[C2PA Verify] createC2pa not found. Available exports:",Object.keys(t)),Error("c2pa library does not export createC2pa. Make sure c2pa package is installed correctly.");let a=["c2pa.worker.js","c2pa_worker.js","worker.js"],s=[],r=null;for(let e of["toolkit_bg.wasm","c2pa_wasm_bg.wasm","c2pa_wasm.wasm"]){for(let n of a)try{console.log("[C2PA Verify] Trying createC2pa with ".concat(e,"/").concat(n)),r=await t.createC2pa({wasmSrc:f(e),workerSrc:f(n)}),console.log("[C2PA Verify] createC2pa succeeded!");break}catch(a){let t=(null==a?void 0:a.message)||String(a);console.warn("[C2PA Verify] createC2pa failed with ".concat(e,"/").concat(n,":"),t),s.push("".concat(e,"/").concat(n,": ").concat(t))}if(r)break}if(!r)throw console.error("[C2PA Verify] All initialization attempts failed"),Error("Failed to initialize C2PA library. Ensure WASM/worker assets are in /public/c2pa.\n\n"+"Tried combinations:\n".concat(s.join("\n"),"\n\n")+"Run: npm run copy:c2pa");console.log("[C2PA Verify] Instance created, calling read()...");try{let t=await r.read(e);if(console.log("[C2PA Verify] read() succeeded, result:",t),null==t?void 0:t.manifestStore)return t.manifestStore;return t}catch(t){let e=(null==t?void 0:t.message)||String(t);throw console.error("[C2PA Verify] read() failed:",e,t),Error("C2PA read failed: ".concat(e))}}function h(e,t){let a=new Uint8Array(t),s="";for(let e=0;e<a.byteLength;e++)s+=String.fromCharCode(a[e]);let r=btoa(s).replace(/(.{64})/g,"$1\n");return"-----BEGIN ".concat(e,"-----\n").concat(r,"\n-----END ").concat(e,"-----")}async function v(e){let t=await crypto.subtle.exportKey("pkcs8",e.privateKey),a=h("PRIVATE KEY",t);return{pkcs8Pem:a,ecPem:h("PRIVATE KEY",t),spkiPem:h("PUBLIC KEY",await crypto.subtle.exportKey("spki",e.publicKey))}}function b(){let[e,t]=(0,r.useState)({}),[a,c]=(0,r.useState)("Keys in memory only • not uploaded"),[u,m]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[h,b]=(0,r.useState)(JSON.stringify(p.minimal,null,2)),[j,N]=(0,r.useState)(""),[C,S]=(0,r.useState)(null),[w,k]=(0,r.useState)(""),[A,I]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!1),[R,O]=(0,r.useState)("ecc"),[T,U]=(0,r.useState)("C2PA Test User"),[_,K]=(0,r.useState)("SSL.com"),[L,M]=(0,r.useState)("US"),D=(0,r.useMemo)(()=>[{id:"6ba3b70c-38fe-44c3-803f-910c5873d1d6",name:"RSA C2PA Profile"},{id:"764b6cdd-1c1b-4a46-9967-22a112a0b390",name:"ECC C2PA Profile"}],[]),[J,V]=(0,r.useState)("764b6cdd-1c1b-4a46-9967-22a112a0b390"),[B,F]=(0,r.useState)("f5ac57ef-428e-4a82-8852-7bde10b33060"),G=!!e.privateKey&&!!e.publicKey,q=G&&!!u&&!!C&&!!e.pkcs8Pem,[z,Y]=(0,r.useState)("minimal"),W=(0,r.useCallback)(async()=>{try{c("Generating EC P-256 keypair…"),i.Ay.loading("Generating keys...",{id:"keygen"});let e=await crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]),a=await v(e);t({privateKey:e.privateKey,publicKey:e.publicKey,...a});let s=await x({publicKey:e.publicKey,privateKey:e.privateKey,subject:{CN:T||void 0,O:_||void 0,C:L||void 0}});f(s),c("Keys ready in memory • not uploaded"),i.Ay.success("Keys and CSR generated successfully!",{id:"keygen"})}catch(t){f("");let e=(null==t?void 0:t.message)||String(t);c("Error: ".concat(e)),i.Ay.error("Failed to generate keys: ".concat(e),{id:"keygen"})}},[T,_,L]),H=(0,r.useCallback)(async()=>{m(""),c("Requesting certificate…"),i.Ay.loading("Requesting certificate from SSL.com...",{id:"cert"});try{let e=await fetch("/api/cert-requests",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({csr:g||"---PEM CSR---",profileId:J||void 0,conformingProductId:B||void 0,subject:{CN:T||void 0,O:_||void 0,C:L||void 0}})}),t=await e.json();if(!e.ok)throw Error((null==t?void 0:t.error)||"Request failed");m(t.certificatePem||""),c("Certificate received"),i.Ay.success("Certificate received successfully!",{id:"cert"})}catch(t){let e=t.message||String(t);c("Error: ".concat(e)),i.Ay.error("Failed to get certificate: ".concat(e),{id:"cert"})}},[g,J,B,T,_,L]),Q=(0,r.useCallback)(e=>{S(e)},[]),$=(0,r.useCallback)(async()=>{if(C)try{let t=JSON.parse(h),a=d.safeParse(t);if(!a.success){N("Invalid manifest"),i.Ay.error("Invalid manifest JSON");return}if(N(""),c("Signing image…"),i.Ay.loading("Signing image...",{id:"sign"}),!e.pkcs8Pem||!u)throw Error("Missing certificate or private key");let s=new FormData;s.append("file",C),s.append("manifest",JSON.stringify(a.data)),s.append("certPem",u),s.append("privateKeyPem",e.pkcs8Pem);let r=await fetch("/api/sign",{method:"POST",body:s});if(!r.ok){let e="Signing failed",t="",a=r.headers.get("content-type")||"";try{if(a.includes("application/json")){let a=await r.json();e=(null==a?void 0:a.detail)||(null==a?void 0:a.error)||JSON.stringify(a),t=(null==a?void 0:a.hint)||""}else e=await r.text()}catch(e){}let s=t?"".concat(e,"\n\n").concat(t):e;throw Error((s||"").toString().slice(0,800))}let n=await r.blob(),l=URL.createObjectURL(n),o=document.createElement("a");o.href=l,o.download="signed-"+(C.name||"image"),o.click(),URL.revokeObjectURL(l),k("Signed with your SSL.com certificate"),c("Image signed successfully"),i.Ay.success("Image signed and downloaded!",{id:"sign"})}catch(s){let e=s instanceof Error?s.message:String(s);c("Error: ".concat(e));let t=e.includes("SSL.com")?1e4:6e3,a=e.length>300?e.slice(0,300)+"...":e;i.Ay.error("Signing failed:\n\n".concat(a),{id:"sign",duration:t,style:{maxWidth:"600px"}})}},[C,e.pkcs8Pem,u,h]),Z=(0,r.useCallback)(async()=>{if(C)try{console.log("[Manifest Inspector] Starting inspection",{fileName:C.name,fileSize:C.size,fileType:C.type,timestamp:new Date().toISOString()}),c("Verifying C2PA manifest…"),i.Ay.loading("Inspecting manifest...",{id:"verify"}),console.log("[Manifest Inspector] Calling verifyAsset...");let e=await y(C);console.log("[Manifest Inspector] verifyAsset completed",{reportType:typeof e,reportKeys:e&&"object"==typeof e?Object.keys(e):[],reportPreview:JSON.stringify(e).slice(0,500)}),k(JSON.stringify(e,null,2)),c("Inspection complete"),i.Ay.success("Manifest inspection complete!",{id:"verify"}),console.log("[Manifest Inspector] Success - report set")}catch(s){var e;let t=(null==s?void 0:s.message)||String(s),a=(null==s?void 0:s.stack)||"No stack trace";console.error("[Manifest Inspector] ERROR",{message:t,errorType:typeof s,errorConstructor:null==s?void 0:null===(e=s.constructor)||void 0===e?void 0:e.name,errorKeys:s&&"object"==typeof s?Object.keys(s):[],stack:a,fullError:s}),c("Verification error: ".concat(t)),i.Ay.error("Inspection failed: ".concat(t),{id:"verify",duration:8e3})}},[C]),X=(0,r.useMemo)(()=>C?URL.createObjectURL(C):"",[C]),ee=(0,r.useMemo)(()=>{let e={certificate_profile_id:J||void 0,certificate_signing_request:g||"-----BEGIN CERTIFICATE REQUEST-----\\n...\\n-----END CERTIFICATE REQUEST-----",conforming_product_id:B||void 0},t={CN:T||void 0,O:_||void 0,C:L||void 0};(t.CN||t.O||t.C)&&(e.experimental=t);let a=JSON.stringify(e);return["curl --location '".concat("https://api.c2patool.io","/api/v1/certificate-requests' \\"),"--header 'Content-Type: application/json' \\","--header 'Authorization: Bearer 9b049052a999e98dd5c63b480c523c703a9df4d633910310f0b965bc278993ab' \\","--data '".concat(a,"'")].join("\n")},[J,g,B,T,_,L]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Developer tool for testing SSL.com C2PA API endpoints. Configure your own credentials or use the shared test token provided."}),(0,s.jsxs)(l,{title:"Keys & Certificate",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:a}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,s.jsx)("button",{className:"px-3 py-2 rounded bg-blue-600 text-white disabled:opacity-50",onClick:W,children:"Generate Keys & CSR"}),(0,s.jsx)("button",{className:"px-3 py-2 rounded bg-blue-600 text-white disabled:opacity-50",onClick:H,disabled:!G,children:"Request Certificate"}),(0,s.jsxs)("button",{className:"px-3 py-2 rounded border",type:"button",onClick:()=>I(e=>!e),children:[A?"Hide":"Show"," API cURL"]}),e.pkcs8Pem&&(0,s.jsx)("a",{className:"px-3 py-2 rounded border text-blue-700 border-blue-200",href:"data:application/x-pem-file;charset=utf-8,".concat(encodeURIComponent(e.pkcs8Pem)),download:"private_key.pk8.pem",children:"Download Private Key"}),u&&(0,s.jsx)("a",{className:"px-3 py-2 rounded border text-blue-700 border-blue-200",href:"data:application/x-pem-file;charset=utf-8,".concat(encodeURIComponent(u)),download:"certificate.pem",children:"Download Cert"}),g&&(0,s.jsx)("a",{className:"px-3 py-2 rounded border text-blue-700 border-blue-200",href:"data:application/pkcs10;charset=utf-8,".concat(encodeURIComponent(g)),download:"request.csr.pem",children:"Download CSR"})]}),A&&(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Certificate Request — cURL (copy and use in your app)"}),(0,s.jsx)("pre",{className:"p-3 bg-gray-50 border rounded text-[12px] whitespace-pre-wrap break-all",children:ee}),(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,s.jsx)("button",{type:"button",className:"px-3 py-2 rounded border",onClick:()=>{var e;return null===(e=navigator.clipboard)||void 0===e?void 0:e.writeText(ee)},children:"Copy"}),(0,s.jsx)("span",{className:"text-[11px] text-gray-500",children:"Replace <YOUR_ACCOUNT_TOKEN> with your account token. Shared test token is pre-filled for quick testing."})]})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-600",children:"Subject CN"}),(0,s.jsx)("input",{className:"w-full border rounded px-2 py-1",value:T,onChange:e=>U(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-600",children:"Subject O"}),(0,s.jsx)("input",{className:"w-full border rounded px-2 py-1",value:_,onChange:e=>K(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-600",children:"Subject C"}),(0,s.jsx)("input",{className:"w-full border rounded px-2 py-1",value:L,onChange:e=>M(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-600",children:"Profile"}),(0,s.jsx)("select",{className:"w-full border rounded px-2 py-2 text-sm",value:J,onChange:e=>V(e.target.value),children:D.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,s.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"Autofills known RSA/ECC profile IDs"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-600",children:"Conforming Product ID"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{className:"w-full border rounded px-2 py-1",value:B,onChange:e=>F(e.target.value)}),(0,s.jsx)("button",{type:"button",className:"px-2 py-1 text-xs border rounded",onClick:()=>F("undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():""),children:"Random"})]}),(0,s.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"Prefill with a random UUID, or paste your own"})]})]})]}),(0,s.jsx)(l,{title:"Image & Manifest",children:(0,s.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),(0,s.jsx)(o,{onFile:Q}),X&&(0,s.jsx)(n.default,{src:X,alt:"preview",width:320,height:240,className:"mt-2 rounded border object-contain"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manifest JSON"}),(0,s.jsx)("textarea",{className:"w-full h-40 border rounded p-2 font-mono text-sm",value:h,onChange:e=>b(e.target.value)}),j&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:j}),(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[(0,s.jsx)("button",{className:"px-3 py-2 rounded bg-blue-600 text-white disabled:opacity-50 font-medium",disabled:!q,onClick:$,title:q?"Ready to sign":"Missing: ".concat(C?"":"image ").concat(G?"":"keys ").concat(u?"":"certificate "),children:q?"Sign Image":"\uD83D\uDD12 Sign Image"}),!q&&(0,s.jsxs)("span",{className:"text-xs text-red-600",children:[!C&&"⚠️ Upload an image first. ",!G&&"⚠️ Generate keys first. ",!u&&"⚠️ Request certificate first. "]}),(0,s.jsx)("button",{className:"px-3 py-2 rounded border",onClick:()=>b(JSON.stringify(JSON.parse(h),null,2)),children:"Format"}),(0,s.jsx)("label",{className:"text-xs text-gray-600",children:"Preset"}),(0,s.jsxs)("select",{className:"px-2 py-2 border rounded text-sm",value:z,onChange:e=>{let t=e.target.value;Y(t),b(JSON.stringify(p[t],null,2))},children:[(0,s.jsx)("option",{value:"minimal",children:"Minimal"}),(0,s.jsx)("option",{value:"editorial",children:"Editorial"})]}),(0,s.jsx)("label",{className:"text-xs text-gray-600",children:"TSA"}),(0,s.jsxs)("select",{className:"px-2 py-2 border rounded text-sm",value:R,onChange:e=>{let t=e.target.value;O(t);try{let e=JSON.parse(h);e.ta_url="rsa"===t?"https://api.c2patool.io/api/v1/timestamps/rsa":"https://api.c2patool.io/api/v1/timestamps/ecc",N(""),b(JSON.stringify(e,null,2))}catch(e){N("Invalid JSON; cannot set TSA")}},children:[(0,s.jsx)("option",{value:"ecc",children:"ECC (default)"}),(0,s.jsx)("option",{value:"rsa",children:"RSA"})]}),(0,s.jsx)("button",{className:"px-3 py-2 rounded border",onClick:()=>b("{}"),children:"Reset"}),(0,s.jsx)("button",{className:"px-3 py-2 rounded border",onClick:()=>{try{let e=JSON.parse(h),t=d.safeParse(e);if(!t.success)throw Error("Invalid manifest");N("");let a=new Blob([JSON.stringify(t.data,null,2)],{type:"application/json"}),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="manifest.json",r.click(),URL.revokeObjectURL(s)}catch(e){N((e instanceof Error?e.message:String(e))||"Invalid JSON")}},children:"Download Manifest"})]})]})]})}),(0,s.jsxs)(l,{title:"C2PA Manifest Inspector",children:[(0,s.jsx)("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-amber-900",children:[(0,s.jsx)("strong",{children:"⚠️ Developer Tool"})," — This inspector uses the official C2PA library to read manifest data, but this is not a certified C2PA validator product. For production validation, use ",(0,s.jsx)("a",{href:"https://contentcredentials.org/verify",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Content Credentials Verify"})," or other certified tools."]})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Upload a C2PA-signed image to inspect its manifest, assertions, and provenance chain. Great for testing how tampering or modifications affect the signature."}),(0,s.jsxs)("div",{className:"mt-3 flex gap-2 items-center",children:[(0,s.jsx)("button",{className:"px-3 py-2 rounded bg-green-600 text-white font-medium disabled:opacity-50",onClick:Z,disabled:!C,children:"Inspect Manifest"}),w&&(()=>{try{var e;let t=JSON.parse(w),a=null===(e=t.validationResults)||void 0===e?void 0:e.activeManifest,r=(null==a?void 0:a.failure)&&a.failure.length>0,n=(null==a?void 0:a.informational)&&a.informational.length>0,i=(null==a?void 0:a.success)&&a.success.length>0,l="unknown";r?l="error":n?l="warn":i&&(l="ok"),"unknown"===l&&t.status&&(l=(t.status||"").toLowerCase());let o="ok"===l?"bg-green-100 text-green-800 border-green-200":"warn"===l?"bg-amber-100 text-amber-800 border-amber-200":"bg-red-100 text-red-800 border-red-200",c="ok"===l?"✓ Valid":"warn"===l?"⚠ Warnings":"error"===l?"✗ Invalid":"ℹ Status";return(0,s.jsx)("span",{className:"inline-flex items-center text-xs font-medium rounded px-2 py-1 border ".concat(o),children:c})}catch(e){return null}})()]}),w&&(()=>{try{var e,t,a,r,n,i;let l=JSON.parse(w),o=l.activeManifest||(null===(e=l.manifests)||void 0===e?void 0:e[l.active_manifest]);return(0,s.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"p-3 bg-gray-50 border rounded",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Manifest Details"}),(0,s.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Title:"})," ",(0,s.jsx)("span",{className:"font-mono",children:(null==o?void 0:o.title)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Format:"})," ",(0,s.jsx)("span",{className:"font-mono",children:(null==o?void 0:o.format)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Instance ID:"})," ",(0,s.jsx)("span",{className:"font-mono text-[10px]",children:(null==o?void 0:o.instanceId)||(null==o?void 0:o.instance_id)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Claim Generator:"})," ",(0,s.jsx)("span",{className:"font-mono text-[10px]",children:(null==o?void 0:o.claimGenerator)||(null==o?void 0:o.claim_generator)||"N/A"})]})]})]}),((null==o?void 0:o.signatureInfo)||(null==o?void 0:o.signature_info))&&(0,s.jsxs)("div",{className:"p-3 bg-gray-50 border rounded",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Signature Info"}),(0,s.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Algorithm:"})," ",(0,s.jsx)("span",{className:"font-mono",children:(null===(t=o.signatureInfo||o.signature_info)||void 0===t?void 0:t.alg)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Issuer:"})," ",(0,s.jsx)("span",{className:"font-mono text-[10px]",children:(null===(a=o.signatureInfo||o.signature_info)||void 0===a?void 0:a.issuer)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Common Name:"})," ",(0,s.jsx)("span",{className:"font-mono text-[10px]",children:(null===(r=o.signatureInfo||o.signature_info)||void 0===r?void 0:r.common_name)||"N/A"})]}),(null===(n=o.signatureInfo||o.signature_info)||void 0===n?void 0:n.time)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Signed:"})," ",(0,s.jsx)("span",{className:"font-mono text-[10px]",children:(o.signatureInfo||o.signature_info).time})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[((null==o?void 0:null===(i=o.assertions)||void 0===i?void 0:i.data)||(null==o?void 0:o.assertions))&&(()=>{var e;let t=(null==o?void 0:null===(e=o.assertions)||void 0===e?void 0:e.data)||(null==o?void 0:o.assertions),a=Array.isArray(t)?t:[];return a.length>0?(0,s.jsxs)("div",{className:"p-3 bg-gray-50 border rounded",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:["Assertions (",a.length,")"]}),(0,s.jsx)("ul",{className:"space-y-1 text-xs",children:a.map((e,t)=>(0,s.jsxs)("li",{className:"font-mono text-[11px]",children:["• ",e.label||"unknown"]},t))})]}):null})(),(()=>{var e;let t=null===(e=l.validationResults)||void 0===e?void 0:e.activeManifest,a=l.validation_status||l.validationStatus;if(t){let e=[...(t.success||[]).map(e=>({...e,type:"success"})),...(t.informational||[]).map(e=>({...e,type:"info"})),...(t.failure||[]).map(e=>({...e,type:"error"}))];return e.length>0?(0,s.jsxs)("div",{className:"p-3 bg-gray-50 border rounded max-h-64 overflow-y-auto",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Validation Results"}),(0,s.jsx)("ul",{className:"space-y-1 text-xs",children:e.map((e,t)=>{let a="success"===e.type?"✓":"info"===e.type?"ℹ":"✗",r="success"===e.type?"text-green-700":"info"===e.type?"text-amber-700":"text-red-600";return(0,s.jsxs)("li",{className:"font-mono text-[11px] ".concat(r),children:[a," ",e.code||e.message||JSON.stringify(e)]},t)})})]}):null}return a&&a.length>0?(0,s.jsxs)("div",{className:"p-3 bg-gray-50 border rounded",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Validation Status"}),(0,s.jsx)("ul",{className:"space-y-1 text-xs",children:a.map((e,t)=>{var a,r;let n=(null===(a=e.code)||void 0===a?void 0:a.toLowerCase().includes("error"))||(null===(r=e.code)||void 0===r?void 0:r.toLowerCase().includes("fail"));return(0,s.jsxs)("li",{className:"font-mono text-[11px] ".concat(n?"text-red-600":"text-gray-700"),children:[n?"✗":"•"," ",e.code||e.message||JSON.stringify(e)]},t)})})]}):null})()]})]}),(0,s.jsxs)("div",{className:"border-t pt-3",children:[(0,s.jsx)("button",{onClick:()=>E(!P),className:"text-sm text-gray-600 hover:text-gray-900 underline",children:P?"▼ Hide Raw JSON":"▶ Show Raw JSON"}),P&&(0,s.jsx)("pre",{className:"mt-2 whitespace-pre-wrap text-[11px] bg-gray-50 border rounded p-3 max-h-96 overflow-y-auto font-mono",children:w})]})]})}catch(e){return(0,s.jsx)("pre",{className:"mt-3 whitespace-pre-wrap text-sm bg-gray-50 border rounded p-3",children:w})}})()]}),(0,s.jsxs)("footer",{className:"text-xs text-gray-500 mt-8",children:[(0,s.jsx)("p",{children:"SSL.com C2PA Developer Tool • Test certificate issuance, signing, and verification APIs"}),(0,s.jsxs)("p",{className:"mt-2",children:[(0,s.jsx)("strong",{children:"TSA Endpoints (C2PA Compliant):"}),(0,s.jsx)("br",{}),"ECC (default): ",(0,s.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"https://api.c2patool.io/api/v1/timestamps/ecc"}),(0,s.jsx)("br",{}),"RSA: ",(0,s.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"https://api.c2patool.io/api/v1/timestamps/rsa"})]}),(0,s.jsxs)("p",{className:"mt-2",children:[(0,s.jsx)("strong",{children:"Trust Bundles:"}),(0,s.jsx)("br",{}),"ECC: ",(0,s.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"https://api.c2patool.io/repository/C2PA-ECC-TRUST-BUNDLE.pem"}),(0,s.jsx)("br",{}),"RSA: ",(0,s.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"https://api.c2patool.io/repository/C2PA-RSA-TRUST-BUNDLE.pem"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[435,446,53,441,684,358],()=>t(7499)),_N_E=e.O()}]);